# Ouroboros v0.3.0 Roadmap

## Vision
Transform lightweight nodes from passive listeners into **active network participants** with wallet integration and developer tools.

---

## üéØ Core Features (Priority Order)

### 1. **Node Number / Persistent Identity** ‚≠ê‚≠ê‚≠ê
**Problem**: Users can't identify "their" node or track participation
**Solution**: Assign unique node numbers on first join

**Implementation**:
```rust
// .ouroboros/node_identity.json
{
  "node_number": 42,
  "node_id": "abc123...",
  "first_joined": "2025-12-13T10:00:00Z",
  "public_name": "Alice's Node" // optional
}
```

**API Endpoints**:
- `GET /identity` ‚Üí Returns node number, ID, stats
- `POST /identity/name` ‚Üí Set custom name

**User Experience**:
```
üéâ Lightweight node running!
   Node Number: #42
   Node ID: abc123
   Network: Ouroboros Mainnet
```

**Benefits**:
- Users feel ownership ("I'm node #42!")
- Enables leaderboards/rankings
- Prerequisite for wallet linking

**Time Estimate**: 6 hours

---

### 2. **Automatic Updates** ‚≠ê‚≠ê‚≠ê
**Problem**: Users must manually download new versions
**Solution**: Auto-check and update mechanism

**Implementation**:
```rust
// Check GitHub releases API every 24h
// If new version: download, verify signature, restart

// .ouroboros/update_config.json
{
  "auto_update": true,
  "check_interval_hours": 24,
  "channel": "stable" // or "beta"
}
```

**Update Flow**:
1. Background task checks GitHub releases API
2. If new version: Download binary to `.ouroboros/updates/`
3. Verify SHA256 checksum (from release notes)
4. Show notification: "Update available: v0.3.1 ‚Üí v0.4.0"
5. If `auto_update: true`: Apply at next restart
6. Else: User runs `ouro-node update`

**Safety**:
- Backup current binary before update
- Rollback if update fails
- Never interrupt running node

**API Endpoints**:
- `GET /updates/check` ‚Üí {available: true, version: "0.4.0"}
- `POST /updates/install` ‚Üí Triggers update
- `GET /updates/status` ‚Üí {updating: false, last_check: "..."}

**Time Estimate**: 12 hours

---

### 3. **Connect Node to Wallet** ‚≠ê‚≠ê‚≠ê
**Problem**: Node operators can't receive rewards without manual setup
**Solution**: Link node identity to OURO wallet address

**Implementation**:
```rust
// .ouroboros/wallet_link.json
{
  "wallet_address": "ouro1abc...xyz",
  "linked_at": "2025-12-13T11:00:00Z",
  "signing_key": "node_private_key_for_verification"
}
```

**Linking Flow**:
```bash
# Option A: Via CLI
$ ouro-node wallet link ouro1abc...xyz
> Generating proof of node ownership...
> Sign this message with your wallet: "Link node #42 to ouro1abc...xyz at 2025-12-13"
> Paste wallet signature: _____
‚úÖ Node #42 linked to wallet ouro1abc...xyz

# Option B: Via API (for wallet apps to integrate)
POST /wallet/link
{
  "address": "ouro1abc...xyz",
  "signature": "base64_sig..."
}
```

**Verification**:
- Node signs message with its private key
- Wallet signs confirmation with its private key
- Full validators verify both signatures
- Link stored on-chain (optional) or in validator registry

**Benefits**:
- Automated reward distribution
- One-click setup in wallet UI
- Secure (mutual cryptographic proof)

**Time Estimate**: 10 hours

---

### 4. **Ouroboros Wallet (MVP)** ‚≠ê‚≠ê
**Scope**: Minimal viable wallet for OURO tokens
**Platform**: Desktop app (Electron/Tauri) + CLI

**Features**:
1. **Create/Import Wallet**
   - Generate new keypair
   - Import from mnemonic (BIP39)
   - Export private key (encrypted)

2. **View Balance**
   - Connect to full node RPC
   - Query: `GET /balance/{address}`
   - Display: Available, Staked, Pending

3. **Send Transactions**
   - Simple form: To, Amount, Memo
   - Sign with wallet private key
   - Broadcast: `POST /tx/submit`

4. **Node Linking**
   - Scan QR code from node dashboard
   - Or paste node ID
   - Mutual signature verification

5. **Rewards Tracking**
   - Show accumulated rewards
   - Claim button: Moves from pending ‚Üí available

**Tech Stack**:
- **Backend**: Rust (reuse ouro_dag crypto)
- **Frontend**:
  - Desktop: Tauri (Rust + HTML/CSS/JS)
  - CLI: clap + tui-rs

**Wallet Structure**:
```
ouro_wallet/
‚îú‚îÄ‚îÄ Cargo.toml
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ crypto.rs      # Key generation, signing
‚îÇ   ‚îú‚îÄ‚îÄ rpc.rs         # Connect to full node
‚îÇ   ‚îú‚îÄ‚îÄ wallet.rs      # Wallet logic
‚îÇ   ‚îî‚îÄ‚îÄ main.rs        # CLI entry point
‚îî‚îÄ‚îÄ ui/                # Tauri frontend (if desktop)
```

**Time Estimate**: 30 hours (MVP)
- CLI wallet: 15 hours
- Desktop UI: +15 hours

---

### 5. **Microchain SDK** ‚≠ê‚≠ê
**Purpose**: Enable developers to build apps on Ouroboros microchains
**Audience**: Smart contract developers, dApp builders

**SDK Components**:

**A. Rust SDK** (`ouro_sdk`)
```rust
// Example: Create a microchain
use ouro_sdk::Microchain;

let microchain = Microchain::builder()
    .name("MyApp")
    .owner_address("ouro1abc...")
    .connect_to("http://localhost:8001")
    .build()?;

// Submit transaction to microchain
microchain.submit_tx(Transaction {
    from: "alice",
    to: "bob",
    amount: 100,
    data: serde_json::json!({"action": "transfer"}),
})?;

// Anchor to mainchain
microchain.anchor()?; // Submits Merkle root
```

**B. JavaScript/TypeScript SDK** (`@ouroboros/sdk`)
```typescript
import { Microchain, Wallet } from '@ouroboros/sdk';

const wallet = Wallet.fromMnemonic('your 12 words...');
const microchain = new Microchain({
  nodeUrl: 'http://localhost:8001',
  chainId: 'my-app-chain'
});

await microchain.submitTransaction({
  from: wallet.address,
  to: 'ouro1xyz...',
  amount: 50,
  data: { action: 'vote', proposal: 5 }
});
```

**C. Python SDK** (`ouro-sdk`)
```python
from ouro_sdk import Microchain, Wallet

wallet = Wallet.from_keyfile('.ouro/wallet.json')
microchain = Microchain(node_url='http://localhost:8001')

microchain.submit_tx(
    from_addr=wallet.address,
    to_addr='ouro1xyz...',
    amount=25,
    data={'action': 'stake'}
)
```

**SDK Features**:
1. **Wallet Management**
   - Create, import, export wallets
   - Sign transactions
   - Query balance

2. **Transaction Building**
   - Helper functions for common operations
   - Auto-populate nonce, gas
   - Estimate fees

3. **Microchain Interaction**
   - Create new microchain
   - Submit transactions
   - Query state
   - Anchor to mainchain

4. **Event Subscriptions**
   - WebSocket API
   - Listen for new transactions
   - Listen for anchoring events

5. **Documentation**
   - API reference (auto-generated from code)
   - Tutorials (Quick Start, Build a DEX, NFT marketplace)
   - Code examples

**Repository Structure**:
```
ouroboros-sdk/
‚îú‚îÄ‚îÄ rust/         # Rust SDK (ouro_sdk)
‚îú‚îÄ‚îÄ js/           # JavaScript/TypeScript
‚îú‚îÄ‚îÄ python/       # Python bindings
‚îú‚îÄ‚îÄ docs/         # Unified documentation
‚îî‚îÄ‚îÄ examples/     # Sample apps
    ‚îú‚îÄ‚îÄ simple-payment/
    ‚îú‚îÄ‚îÄ nft-marketplace/
    ‚îî‚îÄ‚îÄ dao-voting/
```

**Time Estimate**: 40 hours (MVP)
- Rust SDK: 15 hours
- JS/TS SDK: 12 hours
- Python SDK: 8 hours
- Docs + Examples: 5 hours

---

## üìÖ v0.3.0 Timeline & Priorities

### **Phase 1: Foundation** (Week 1-2)
‚úÖ **Must Have**:
1. Node Number/Identity (6h)
2. Connect Node to Wallet (10h)

**Deliverable**: Users can link nodes to wallets for rewards

### **Phase 2: Automation** (Week 3)
‚úÖ **Must Have**:
3. Automatic Updates (12h)

**Deliverable**: Nodes auto-update without user intervention

### **Phase 3: Wallet** (Week 4-5)
‚úÖ **Must Have**:
4. Wallet MVP - CLI + Desktop (30h)

**Deliverable**: Users can manage OURO tokens and link to nodes

### **Phase 4: Developer Tools** (Week 6-8)
‚úÖ **Must Have**:
5. Microchain SDK - Rust/JS/Python (40h)

**Deliverable**: Developers can build apps on Ouroboros microchains

**Total Timeline**: 8 weeks (~98 hours total development)

---

## üéÅ Bonus Features (If Time Permits)

### Transaction Relay
- Lightweight nodes relay transactions (already receiving)
- Enables gossip protocol participation
- **Time**: 8 hours

### Dashboard UI
- Web interface at `http://localhost:8001/dashboard`
- Shows node stats, connected peers, wallet balance
- **Time**: 12 hours

---

## üöÄ Release Plan

**v0.3.0 Target Date**: February 1, 2026 (8 weeks)

**Included**:
- ‚úÖ Node Identity & Number (6h)
- ‚úÖ Wallet Linking (10h)
- ‚úÖ Automatic Updates (12h)
- ‚úÖ Wallet MVP - CLI + Desktop (30h)
- ‚úÖ Microchain SDK - Rust/JS/Python (40h)
- ‚úÖ Peer connection fix (already done)

**Total Estimated Effort**: ~98 hours (~2.5 weeks full-time or 8 weeks part-time)

**v0.4.0 Preview** (March 2026):
- Advanced wallet features (staking, governance)
- Transaction relay for lightweight nodes
- Microchain marketplace/registry
- Enhanced SDK features (templates, debugging tools)

---

## ü§î Open Questions

1. **Wallet**: CLI-only first, or build desktop UI in parallel?
2. **Node Numbers**: Centrally assigned (by validators) or self-generated (hash-based)?
3. **Update Channel**: Support "beta" channel for early adopters?
4. **SDK Priority**: Which language first - Rust, JS, or Python?

---

## üìù Next Steps

1. Review and approve roadmap
2. Create GitHub project board with tasks
3. Start Phase 1 (Node Identity + Wallet Linking)
4. Build fixed v0.2.1 binary (peer connection fix)
5. Set up CI/CD for automatic binary builds

**Let's discuss priorities and timeline!**
